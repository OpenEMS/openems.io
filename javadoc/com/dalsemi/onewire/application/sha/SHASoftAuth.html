<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>SHASoftAuth (OpenEMS Javadoc)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.dalsemi.onewire.application.sha, class: SHASoftAuth">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.dalsemi.onewire.application.sha</a></div>
<h1 title="Class SHASoftAuth" class="title">Class SHASoftAuth</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">com.dalsemi.onewire.application.sha.SHATransaction</a>
<div class="inheritance">com.dalsemi.onewire.application.sha.SHASoftAuth</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">SHASoftAuth</span>
<span class="extends-implements">extends <a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></span></div>
<div class="block"><P>
 This class implements an software authrization account application for SHA
 Transactions. The account data is stored on the user iButtons after being
 digitally signed by a virtual machine coprocessor. Account data consists of
 the following:
 <UL>
 <LI>1 byte: Length of the account file</LI>
 <LI>2 bytes: Transaction ID</LI>
 <LI>2 bytes: Account Money Conversion Factor</LI>
 <LI>3 bytes: Account Balance</LI>
 <LI>20 bytes: Account Data Signature</LI>
 <LI>1 byte: Account data type (dynamic or static)</LI>
 <LI>1 byte: File continuation pointer</LI>
 <LI>2 bytes: CRC16 of entire 30 bytes seeded with the page number</LI>
 <LI><B>32 bytes Total</B></LI>
 </UL>
 </P>

 <P>
 A typical use case for this class might be as follows:

 <pre>
 OneWireContainer18 coprOWC18 = new OneWireContainer18(adapter, address);

 // COPR.0 is the filename for coprocessor service data
 SHAiButtonCopr copr = new SHAiButtonCopr(coprOWC18, "COPR.0");

 // Initial amount for new users is $100, and debit amount is 50 cents
 byte[] ver_data = new byte[] { 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06 };
 SATransaction trans = new SHAsoftauth(copr, ver_data, 7);

 OneWireContainer18 owc18 = new OneWireContainer18(adapter, userAddress);

 // The following constructor erases all transaction data from the user and
 // installs the system authentication secret on the user iButton.
 SHAiButtonUser user = new SHAiButtonUser18(copr, owc18, true, authSecret);

 // creates account data on iButton
 if (trans.setupTransactionData(user))
        System.out.println("Account data installed successfully");
 else
        System.out.println("Account data installation failed");

 // ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ...

 // "challenges" user iButton
 if (trans.verifyUser(user)) {
        System.out.println("User Verified Successfully");

        // checks data signature
        if (trans.verifyTransactionData(user)) {
                System.out.println("Account Data Verified Successfully");

                // writes verification data to user iButton
                System.out.println("User's verification data: ");
                softauth.getParameter(SHASoftAuth.VERIFICATION_DATA, ver_data, 0, 7);
                IOHelper.writeBytes(ver_data);
        }
 }

 // ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ...

 if (trans.getLastError() != 0) {
        System.err.println("Error code: " + trans.getLastError());
 }
 </pre>
 </P>

 <p>
 This class makes use of several performance enhancements for TINI. For
 instance, most methods are <code>synchronized</code> to access instance
 variable byte arrays rather than creating new byte arrays every time a
 transaction is performed. This could hurt performance in multi-threaded
 applications, but the usefulness of having several threads contending to talk
 to a single iButton is questionable since the methods in
 <code>com.dalsemi.onewire.adapter.DSPortAdapter</code>
 <code>beginExclusive(boolean)</code> and <code>endExclusive()</code> should
 be used.
 </p></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha"><code>SHATransaction</code></a></li>
<li><a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha"><code>SHAiButtonCopr</code></a></li>
<li><a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha"><code>SHAiButtonUser</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#I_CONTINUATION_PTR" class="member-name-link">I_CONTINUATION_PTR</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#I_DATA_TYPE_CODE" class="member-name-link">I_DATA_TYPE_CODE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#I_FILE_CRC16" class="member-name-link">I_FILE_CRC16</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#I_FILE_LENGTH" class="member-name-link">I_FILE_LENGTH</a></code></div>
<div class="col-last odd-row-color">
<div class="block">indices for fields in user account file</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#I_SIGNATURE" class="member-name-link">I_SIGNATURE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#I_VERDATA" class="member-name-link">I_VERDATA</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#VERIFICATION_DATA" class="member-name-link">VERIFICATION_DATA</a></code></div>
<div class="col-last even-row-color">
<div class="block">Update the verification data</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-com.dalsemi.onewire.application.sha.SHATransaction">Fields inherited from class&nbsp;com.dalsemi.onewire.application.sha.<a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></h3>
<code><a href="SHATransaction.html#copr">copr</a>, <a href="SHATransaction.html#COPR_BIND_SECRET_FAILED">COPR_BIND_SECRET_FAILED</a>, <a href="SHATransaction.html#COPR_COMPUTE_CHALLENGE_FAILED">COPR_COMPUTE_CHALLENGE_FAILED</a>, <a href="SHATransaction.html#COPR_WRITE_DATAPAGE_FAILED">COPR_WRITE_DATAPAGE_FAILED</a>, <a href="SHATransaction.html#COPR_WRITE_SCRATCHPAD_FAILED">COPR_WRITE_SCRATCHPAD_FAILED</a>, <a href="SHATransaction.html#COPROCESSOR_FAILURE">COPROCESSOR_FAILURE</a>, <a href="SHATransaction.html#lastError">lastError</a>, <a href="SHATransaction.html#MATCH_SCRATCHPAD_FAILED">MATCH_SCRATCHPAD_FAILED</a>, <a href="SHATransaction.html#NO_ERROR">NO_ERROR</a>, <a href="SHATransaction.html#SHA_FUNCTION_FAILED">SHA_FUNCTION_FAILED</a>, <a href="SHATransaction.html#USER_BAD_ACCOUNT_DATA">USER_BAD_ACCOUNT_DATA</a>, <a href="SHATransaction.html#USER_DATA_NOT_UPDATED">USER_DATA_NOT_UPDATED</a>, <a href="SHATransaction.html#USER_READ_AUTH_FAILED">USER_READ_AUTH_FAILED</a>, <a href="SHATransaction.html#USER_WRITE_DATA_FAILED">USER_WRITE_DATA_FAILED</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">SHASoftAuth</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">User apps should never call this</div>
</div>
<div class="col-first odd-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(com.dalsemi.onewire.application.sha.SHAiButtonCopr)" class="member-name-link">SHASoftAuth</a><wbr>(<a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonCopr</a>&nbsp;copr)</code></div>
<div class="col-last odd-row-color">
<div class="block">SHADebit constructor.</div>
</div>
<div class="col-first even-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.dalsemi.onewire.application.sha.SHAiButtonCopr,byte%5B%5D,int)" class="member-name-link">SHASoftAuth</a><wbr>(<a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonCopr</a>&nbsp;copr,
 byte[]&nbsp;extra_data,
 int&nbsp;len)</code></div>
<div class="col-last even-row-color">
<div class="block">SHADebit constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeTransaction(com.dalsemi.onewire.application.sha.SHAiButtonUser,boolean)" class="member-name-link">executeTransaction</a><wbr>(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user,
 boolean&nbsp;verifySuccess)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Performs the signed debit, subtracting the debit amount from the user's
 balance and storing the new, signed account data on the user's iButton.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParameter(int)" class="member-name-link">getParameter</a><wbr>(int&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Retrieves the value of a particular parameter for this debit transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParameter(int,byte%5B%5D,int,int)" class="member-name-link">getParameter</a><wbr>(int&nbsp;type,
 byte[]&nbsp;data,
 int&nbsp;offset,
 int&nbsp;len)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Retrieves the value of a particular parameter for this debit transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resetParameters()" class="member-name-link">resetParameters</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Resets all transaction parameters to default values</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setParameter(int,byte%5B%5D,int,int)" class="member-name-link">setParameter</a><wbr>(int&nbsp;type,
 byte[]&nbsp;data,
 int&nbsp;offset,
 int&nbsp;len)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Sets the value of a particular parameter for this debit transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setParameter(int,int)" class="member-name-link">setParameter</a><wbr>(int&nbsp;type,
 int&nbsp;param)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Sets the value of a particular parameter for this debit transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)" class="member-name-link">setupTransactionData</a><wbr>(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Setup account data on a fresh user iButton.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#verifyTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)" class="member-name-link">verifyTransactionData</a><wbr>(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Verifies user's account data.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#verifyUser(com.dalsemi.onewire.application.sha.SHAiButtonUser)" class="member-name-link">verifyUser</a><wbr>(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Verifies user's authentication response.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.dalsemi.onewire.application.sha.SHATransaction">Methods inherited from class&nbsp;com.dalsemi.onewire.application.sha.<a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></h3>
<code><a href="SHATransaction.html#getLastCoprError()">getLastCoprError</a>, <a href="SHATransaction.html#getLastError()">getLastError</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="VERIFICATION_DATA">
<h3>VERIFICATION_DATA</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">VERIFICATION_DATA</span></div>
<div class="block">Update the verification data</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHASoftAuth.VERIFICATION_DATA">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="I_FILE_LENGTH">
<h3>I_FILE_LENGTH</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">I_FILE_LENGTH</span></div>
<div class="block">indices for fields in user account file</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHASoftAuth.I_FILE_LENGTH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="I_DATA_TYPE_CODE">
<h3>I_DATA_TYPE_CODE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">I_DATA_TYPE_CODE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHASoftAuth.I_DATA_TYPE_CODE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="I_SIGNATURE">
<h3>I_SIGNATURE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">I_SIGNATURE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHASoftAuth.I_SIGNATURE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="I_VERDATA">
<h3>I_VERDATA</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">I_VERDATA</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHASoftAuth.I_VERDATA">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="I_CONTINUATION_PTR">
<h3>I_CONTINUATION_PTR</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">I_CONTINUATION_PTR</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHASoftAuth.I_CONTINUATION_PTR">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="I_FILE_CRC16">
<h3>I_FILE_CRC16</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">I_FILE_CRC16</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHASoftAuth.I_FILE_CRC16">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>SHASoftAuth</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">SHASoftAuth</span>()</div>
<div class="block">User apps should never call this</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(com.dalsemi.onewire.application.sha.SHAiButtonCopr)">
<h3>SHASoftAuth</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SHASoftAuth</span><wbr><span class="parameters">(<a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonCopr</a>&nbsp;copr)</span></div>
<div class="block">SHADebit constructor. <code>copr</code> is the SHAiButtonCopr that is used to
 perform this transaction. After saving a reference to the SHA coprocessor,
 this constructor resets all parameters for this type of transaction to their
 default values.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>copr</code> - The coprocessor used for authentication and data signing in this
             transaction.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(com.dalsemi.onewire.application.sha.SHAiButtonCopr,byte[],int)">
<h3>SHASoftAuth</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SHASoftAuth</span><wbr><span class="parameters">(<a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonCopr</a>&nbsp;copr,
 byte[]&nbsp;extra_data,
 int&nbsp;len)</span></div>
<div class="block">SHADebit constructor. <code>copr</code> is the SHAiButtonCopr that is used to
 perform this transaction. After saving a reference to the SHA coprocessor,
 this constructor resets all parameters for this type of transaction to their
 default values.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>copr</code> - The coprocessor used for authentication and data signing in
                   this transaction.</dd>
<dd><code>extra_data</code> - The 7 bytes of extra data to be used instead of the
                   balance.</dd>
<dd><code>len</code> - The len, 7 or less of the data. It is 0 padded.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setupTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)">
<h3>setupTransactionData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setupTransactionData</span><wbr><span class="parameters">(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</span>
                             throws <span class="exceptions"><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
<a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></span></div>
<div class="block"><P>
 Setup account data on a fresh user iButton. Prior to calling setup
 transaction data, the authentication secret for the iButton should already be
 setup and a directory entry (as well as at least an empty placeholder file)
 should exist for the account data. If you constructed the SHAiButtonUser
 using
 <code>SHAiButtonUser(SHAiButtonCopr,OneWireContainer18,boolean,byte[])</code>
 the secret has been setup for you and you should know call this function. If
 you try to install the authentication secret after creating the account data,
 you will destroy all account data on the iButton.
 </P>

 <P>
 You can set the value of the initial account balance by calling
 <code>transaction.setParameter(SHADebit.INITIAL_AMOUNT,10000)</code> where
 the value of the units is in cents (i.e. 10000 = $100).
 </P>

 <P>
 <B>Flow of action: </B>
 <ul>
 <li>Generate generic account page</li>
 <li>Insert the initial balance into account data</li>
 <li>Create a signature using coprocessor</li>
 <li>Insert the digital signature</li>
 <li>Write account data page to iButton</li>
 </ul>
 </P></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="SHATransaction.html#setupTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)">setupTransactionData</a></code>&nbsp;in class&nbsp;<code><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></code></dd>
<dt>Parameters:</dt>
<dd><code>user</code> - SHAiButtonUser upon which the transaction occurs.</dd>
<dt>Returns:</dt>
<dd><code>true</code>if and only if the signature is successfully created
         by the coprocessor AND the data is successfully written to the user
         iButton.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="SHAiButtonCopr.html#createDataSignature(byte%5B%5D,byte%5B%5D,byte%5B%5D,int)"><code>SHAiButtonCopr.createDataSignature(byte[],byte[],byte[],int)</code></a></li>
<li><a href="SHAiButtonUser.html#writeAccountData(byte%5B%5D,int)"><code>SHAiButtonUser.writeAccountData(byte[],int)</code></a></li>
<li><a href="SHATransaction.html#getLastError()"><code>SHATransaction.getLastError()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifyUser(com.dalsemi.onewire.application.sha.SHAiButtonUser)">
<h3>verifyUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">verifyUser</span><wbr><span class="parameters">(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</span>
                   throws <span class="exceptions"><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
<a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></span></div>
<div class="block"><P>
 Verifies user's authentication response. User is "authenticated" if and only
 if the digital signature generated the user iButton matches the digital
 signature generated by the coprocessor after the user's unique secret has
 been recreated on the coprocessor.
 </P>

 <P>
 <B>Flow of action: </B>
 <ul>
 <li>Generate 3-byte "challenge" on coprocessor</li>
 <li>Write challenge to scratchpad of user</li>
 <li>Read account data page with signature</li>
 <li>Attempt to match user's signature with the coprocessor</li>
 </ul>
 </P></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="SHATransaction.html#verifyUser(com.dalsemi.onewire.application.sha.SHAiButtonUser)">verifyUser</a></code>&nbsp;in class&nbsp;<code><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></code></dd>
<dt>Parameters:</dt>
<dd><code>user</code> - SHAiButtonUser upon which the transaction occurs.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="SHAiButtonCopr.html#generateChallenge(int,byte%5B%5D,int)"><code>SHAiButtonCopr.generateChallenge(int,byte[],int)</code></a></li>
<li><a href="SHAiButtonCopr.html#verifyAuthentication(byte%5B%5D,byte%5B%5D,byte%5B%5D,byte%5B%5D,byte)"><code>SHAiButtonCopr.verifyAuthentication(byte[],byte[],byte[],byte[],byte)</code></a></li>
<li><a href="SHAiButtonUser.html#readAccountData(byte%5B%5D,int,byte%5B%5D,int,byte%5B%5D,int)"><code>SHAiButtonUser.readAccountData(byte[],int,byte[],int,byte[],int)</code></a></li>
<li><a href="SHATransaction.html#getLastError()"><code>SHATransaction.getLastError()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifyTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)">
<h3>verifyTransactionData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">verifyTransactionData</span><wbr><span class="parameters">(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</span>
                              throws <span class="exceptions"><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
<a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></span></div>
<div class="block"><P>
 Verifies user's account data. Account data is "verified" if the digital
 signature matches the signature recreated by the coprocessor.
 </P>

 <P>
 <B>Flow of action: </B>
 <ul>
 <li>Read the account data from user</li>
 <li>Get verification data</li>
 <li>Reset the digital signature</li>
 <li>Use coprocessor to sign account data</li>
 <li>Insert the new digital signature</li>
 <li>Write the account data to the user</li>
 </ul>
 </P>

 <P>
 If previous steps have been executed, all "Read" commands on the user are
 reading from cached data.
 </P></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="SHATransaction.html#verifyTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)">verifyTransactionData</a></code>&nbsp;in class&nbsp;<code><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></code></dd>
<dt>Parameters:</dt>
<dd><code>user</code> - SHAiButtonUser upon which the transaction occurs.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if and only if the account balance is greater than
         zero and digital signature matches the signature recreated by the
         coprocessor.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="SHAiButtonUser.html#readAccountData(byte%5B%5D,int)"><code>SHAiButtonUser.readAccountData(byte[],int)</code></a></li>
<li><a href="SHAiButtonCopr.html#verifySignature(byte%5B%5D,byte%5B%5D,byte%5B%5D)"><code>SHAiButtonCopr.verifySignature(byte[],byte[],byte[])</code></a></li>
<li><a href="SHATransaction.html#getLastError()"><code>SHATransaction.getLastError()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeTransaction(com.dalsemi.onewire.application.sha.SHAiButtonUser,boolean)">
<h3>executeTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">executeTransaction</span><wbr><span class="parameters">(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user,
 boolean&nbsp;verifySuccess)</span>
                           throws <span class="exceptions"><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
<a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></span></div>
<div class="block"><P>
 Performs the signed debit, subtracting the debit amount from the user's
 balance and storing the new, signed account data on the user's iButton. The
 debit amount can be set using
 <code>transaction.setParameter(SHADebit.DEBIT_AMOUNT, 50)</code>, where the
 value is in units of cents (i.e. for 1 dollar, use 100).
 </P>

 <P>
 <B>Flow of action: </B>
 <ul>
 <li>Read the account data from user</li>
 <li>Extract account balance</li>
 <li>Reset the digital signature</li>
 <li>Use coprocessor to sign account data</li>
 <li>Insert the new digital signature</li>
 <li>Write the account data to the user</li>
 </ul>
 </P>

 <P>
 If previous steps have been executed, all "Read" commands on the user are
 reading from cached data.
 </P></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="SHATransaction.html#executeTransaction(com.dalsemi.onewire.application.sha.SHAiButtonUser,boolean)">executeTransaction</a></code>&nbsp;in class&nbsp;<code><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></code></dd>
<dt>Parameters:</dt>
<dd><code>user</code> - SHAiButtonUser upon which the transaction occurs.</dd>
<dd><code>verifySuccess</code> - A boolean to let this method know if verification was
                      successful.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if and only if the user has enough in the account
         balance to perform the requested debit AND a new digital signature is
         successfully created AND the account data has been written to the
         button.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="SHAiButtonUser.html#readAccountData(byte%5B%5D,int)"><code>SHAiButtonUser.readAccountData(byte[],int)</code></a></li>
<li><a href="SHAiButtonUser.html#writeAccountData(byte%5B%5D,int)"><code>SHAiButtonUser.writeAccountData(byte[],int)</code></a></li>
<li><a href="SHAiButtonCopr.html#createDataSignature(byte%5B%5D,byte%5B%5D,byte%5B%5D,int)"><code>SHAiButtonCopr.createDataSignature(byte[],byte[],byte[],int)</code></a></li>
<li><a href="SHATransaction.html#getLastError()"><code>SHATransaction.getLastError()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParameter(int)">
<h3>getParameter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getParameter</span><wbr><span class="parameters">(int&nbsp;type)</span></div>
<div class="block"><P>
 Retrieves the value of a particular parameter for this debit transaction.
 </P>

 <P>
 <B>Valid Parameters</B>
 <UL>
 <LI><code>SHADebit.DEBIT_AMOUNT</code></LI>
 <LI><code>SHADebit.INITIAL_AMOUNT</code></LI>
 <LI><code>SHADebit.USER_BALANCE</code></LI>
 </UL>
 </P>

 <P>
 Note that the value of <code>SHADebit.USER_BALANCE</code> will be set after
 calling <code>verifyTransactionData(SHAiButtonUser)</code> and after calling
 <code>executeTransaction(SHAiButtonUser)</code>.
 </P></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="SHATransaction.html#getParameter(int)">getParameter</a></code>&nbsp;in class&nbsp;<code><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></code></dd>
<dt>Returns:</dt>
<dd>The value of the requested parameter.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an invalid parameter type is requested.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParameter(int,byte[],int,int)">
<h3>getParameter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getParameter</span><wbr><span class="parameters">(int&nbsp;type,
 byte[]&nbsp;data,
 int&nbsp;offset,
 int&nbsp;len)</span></div>
<div class="block"><P>
 Retrieves the value of a particular parameter for this debit transaction.
 </P>

 <P>
 <B>Valid Parameters</B>
 <UL>
 <LI><code>SHADebit.DEBIT_AMOUNT</code></LI>
 <LI><code>SHADebit.INITIAL_AMOUNT</code></LI>
 <LI><code>SHADebit.USER_BALANCE</code></LI>
 </UL>
 </P>

 <P>
 Note that the value of <code>SHADebit.USER_BALANCE</code> will be set after
 calling <code>verifyTransactionData(SHAiButtonUser)</code> and after calling
 <code>executeTransaction(SHAiButtonUser)</code>.
 </P></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The value of the requested parameter.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an invalid parameter type is requested.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setParameter(int,byte[],int,int)">
<h3>setParameter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setParameter</span><wbr><span class="parameters">(int&nbsp;type,
 byte[]&nbsp;data,
 int&nbsp;offset,
 int&nbsp;len)</span></div>
<div class="block"><P>
 Sets the value of a particular parameter for this debit transaction.
 </P>

 <P>
 <B>Valid Parameters</B>
 <UL>
 <LI><code>SHADebit.DEBIT_AMOUNT</code></LI>
 <LI><code>SHADebit.INITIAL_AMOUNT</code></LI>
 </UL>
 </P></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - Specifies the parameter type (<code>SHADebit.DEBIT_AMOUNT</code>
             or <code>SHADebit.INITIAL_AMOUNT</code>)</dd>
<dt>Returns:</dt>
<dd></code>true</code> if a valid parameter type was specified and the
         value of the parameter is positive.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an invalid parameter type is requested.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setParameter(int,int)">
<h3>setParameter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setParameter</span><wbr><span class="parameters">(int&nbsp;type,
 int&nbsp;param)</span></div>
<div class="block"><P>
 Sets the value of a particular parameter for this debit transaction.
 </P>

 <P>
 <B>Valid Parameters</B>
 <UL>
 <LI><code>SHADebit.DEBIT_AMOUNT</code></LI>
 <LI><code>SHADebit.INITIAL_AMOUNT</code></LI>
 </UL>
 </P></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="SHATransaction.html#setParameter(int,int)">setParameter</a></code>&nbsp;in class&nbsp;<code><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></code></dd>
<dt>Parameters:</dt>
<dd><code>type</code> - Specifies the parameter type (<code>SHADebit.DEBIT_AMOUNT</code>
             or <code>SHADebit.INITIAL_AMOUNT</code>)</dd>
<dt>Returns:</dt>
<dd></code>true</code> if a valid parameter type was specified and the
         value of the parameter is positive.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if an invalid parameter type is requested.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetParameters()">
<h3>resetParameters</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetParameters</span>()</div>
<div class="block"><p>
 Resets all transaction parameters to default values
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="SHATransaction.html#resetParameters()">resetParameters</a></code>&nbsp;in class&nbsp;<code><a href="SHATransaction.html" title="class in com.dalsemi.onewire.application.sha">SHATransaction</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
