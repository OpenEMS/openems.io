<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>SHATransaction (OpenEMS Javadoc)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.dalsemi.onewire.application.sha, class: SHATransaction">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.dalsemi.onewire.application.sha</a></div>
<h1 title="Class SHATransaction" class="title">Class SHATransaction</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.dalsemi.onewire.application.sha.SHATransaction</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="SHADebit.html" title="class in com.dalsemi.onewire.application.sha">SHADebit</a></code>, <code><a href="SHADebitUnsigned.html" title="class in com.dalsemi.onewire.application.sha">SHADebitUnsigned</a></code>, <code><a href="SHASoftAuth.html" title="class in com.dalsemi.onewire.application.sha">SHASoftAuth</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">SHATransaction</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block"><P>
 Abstract super class for all SHA Transactions. Typical SHA transactions might
 be something like an account debit application, a door access control system,
 or a web-based authentication servlet. The <code>SHATransaction</code> super
 class contains the bare minimum functionality necessary for the steps
 involved in most SHA transaction applications.
 </P>

 <P>
 The first characteristic of a SHA Transaction is that it is tied to an
 immutable <code>SHAiButtonCopr</code>, used for data signing and recreating
 user authentication responses. The SHA Transaction guarantees an interface
 for initializing account transaction data
 (<code>setupTransactionData</code>), verifying that the transaction data has
 not been tampered with (<code>verifyTransactionData</code>), performing the
 transaction and updating the data (<code>executeTransaction</code>), and
 validating a user with a challenge-response authentication protocol
 (<code>verifyUser</code>).
 </P>

 <P>
 In addition, all transactions are characterized by certain parameters (i.e.
 how much to debit from the user or what level of access is being requested
 from the system). The interface for retrieving and setting these parameters
 is provided through the generic <code>getParameter</code> and
 <code>setParameter</code>.
 </P></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="SHADebit.html" title="class in com.dalsemi.onewire.application.sha"><code>SHADebit</code></a></li>
<li><a href="SHADebitUnsigned.html" title="class in com.dalsemi.onewire.application.sha"><code>SHADebitUnsigned</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonCopr</a></code></div>
<div class="col-second even-row-color"><code><a href="#copr" class="member-name-link">copr</a></code></div>
<div class="col-last even-row-color">
<div class="block">The coprocessor used to complete this transaction</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#COPR_BIND_SECRET_FAILED" class="member-name-link">COPR_BIND_SECRET_FAILED</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#COPR_COMPUTE_CHALLENGE_FAILED" class="member-name-link">COPR_COMPUTE_CHALLENGE_FAILED</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#COPR_WRITE_DATAPAGE_FAILED" class="member-name-link">COPR_WRITE_DATAPAGE_FAILED</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#COPR_WRITE_SCRATCHPAD_FAILED" class="member-name-link">COPR_WRITE_SCRATCHPAD_FAILED</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#COPROCESSOR_FAILURE" class="member-name-link">COPROCESSOR_FAILURE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#lastError" class="member-name-link">lastError</a></code></div>
<div class="col-last even-row-color">
<div class="block">The last error that occurred during this transaction</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#MATCH_SCRATCHPAD_FAILED" class="member-name-link">MATCH_SCRATCHPAD_FAILED</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#NO_ERROR" class="member-name-link">NO_ERROR</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#SHA_FUNCTION_FAILED" class="member-name-link">SHA_FUNCTION_FAILED</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#USER_BAD_ACCOUNT_DATA" class="member-name-link">USER_BAD_ACCOUNT_DATA</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#USER_DATA_NOT_UPDATED" class="member-name-link">USER_DATA_NOT_UPDATED</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#USER_READ_AUTH_FAILED" class="member-name-link">USER_READ_AUTH_FAILED</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#USER_WRITE_DATA_FAILED" class="member-name-link">USER_WRITE_DATA_FAILED</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">SHATransaction</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">
 User applications should not instantiate this class without an instance of a
 coprocessor.</div>
</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(com.dalsemi.onewire.application.sha.SHAiButtonCopr)" class="member-name-link">SHATransaction</a><wbr>(<a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonCopr</a>&nbsp;copr)</code></div>
<div class="col-last odd-row-color">
<div class="block">
 Creates a new SHATransaction, ensuring that reference to the coprocessor is
 saved and the errors are cleared.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#executeTransaction(com.dalsemi.onewire.application.sha.SHAiButtonUser,boolean)" class="member-name-link">executeTransaction</a><wbr>(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user,
 boolean&nbsp;verifySuccess)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">
 Performs the transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastCoprError()" class="member-name-link">getLastCoprError</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Returns the error code for the last error in the transaction process.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastError()" class="member-name-link">getLastError</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Returns the error code for the last error in the transaction process.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getParameter(int)" class="member-name-link">getParameter</a><wbr>(int&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">
 Retrieves the value of a particular parameter for this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#resetParameters()" class="member-name-link">resetParameters</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">
 Resets the value of all parameters for this transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setParameter(int,int)" class="member-name-link">setParameter</a><wbr>(int&nbsp;type,
 int&nbsp;param)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">
 Sets a particular parameter for this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setupTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)" class="member-name-link">setupTransactionData</a><wbr>(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">
 Setups initial transaction data on SHAiButtonUser.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#verifyTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)" class="member-name-link">verifyTransactionData</a><wbr>(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">
 Verifies account data is valid for this service.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#verifyUser(com.dalsemi.onewire.application.sha.SHAiButtonUser)" class="member-name-link">verifyUser</a><wbr>(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">
 Verifies that SHAiButtonUser is a valid user of this service.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="NO_ERROR">
<h3>NO_ERROR</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">NO_ERROR</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.NO_ERROR">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SHA_FUNCTION_FAILED">
<h3>SHA_FUNCTION_FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">SHA_FUNCTION_FAILED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.SHA_FUNCTION_FAILED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MATCH_SCRATCHPAD_FAILED">
<h3>MATCH_SCRATCHPAD_FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MATCH_SCRATCHPAD_FAILED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.MATCH_SCRATCHPAD_FAILED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="COPR_WRITE_DATAPAGE_FAILED">
<h3>COPR_WRITE_DATAPAGE_FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">COPR_WRITE_DATAPAGE_FAILED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.COPR_WRITE_DATAPAGE_FAILED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="COPR_WRITE_SCRATCHPAD_FAILED">
<h3>COPR_WRITE_SCRATCHPAD_FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">COPR_WRITE_SCRATCHPAD_FAILED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.COPR_WRITE_SCRATCHPAD_FAILED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="COPR_BIND_SECRET_FAILED">
<h3>COPR_BIND_SECRET_FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">COPR_BIND_SECRET_FAILED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.COPR_BIND_SECRET_FAILED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="COPR_COMPUTE_CHALLENGE_FAILED">
<h3>COPR_COMPUTE_CHALLENGE_FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">COPR_COMPUTE_CHALLENGE_FAILED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.COPR_COMPUTE_CHALLENGE_FAILED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="COPROCESSOR_FAILURE">
<h3>COPROCESSOR_FAILURE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">COPROCESSOR_FAILURE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.COPROCESSOR_FAILURE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="USER_READ_AUTH_FAILED">
<h3>USER_READ_AUTH_FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">USER_READ_AUTH_FAILED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.USER_READ_AUTH_FAILED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="USER_WRITE_DATA_FAILED">
<h3>USER_WRITE_DATA_FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">USER_WRITE_DATA_FAILED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.USER_WRITE_DATA_FAILED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="USER_BAD_ACCOUNT_DATA">
<h3>USER_BAD_ACCOUNT_DATA</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">USER_BAD_ACCOUNT_DATA</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.USER_BAD_ACCOUNT_DATA">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="USER_DATA_NOT_UPDATED">
<h3>USER_DATA_NOT_UPDATED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">USER_DATA_NOT_UPDATED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../constant-values.html#com.dalsemi.onewire.application.sha.SHATransaction.USER_DATA_NOT_UPDATED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lastError">
<h3>lastError</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">lastError</span></div>
<div class="block">The last error that occurred during this transaction</div>
</section>
</li>
<li>
<section class="detail" id="copr">
<h3>copr</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonCopr</a></span>&nbsp;<span class="element-name">copr</span></div>
<div class="block">The coprocessor used to complete this transaction</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>SHATransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">SHATransaction</span>()</div>
<div class="block"><p>
 User applications should not instantiate this class without an instance of a
 coprocessor.
 </p></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(com.dalsemi.onewire.application.sha.SHAiButtonCopr)">
<h3>SHATransaction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">SHATransaction</span><wbr><span class="parameters">(<a href="SHAiButtonCopr.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonCopr</a>&nbsp;copr)</span></div>
<div class="block"><P>
 Creates a new SHATransaction, ensuring that reference to the coprocessor is
 saved and the errors are cleared.
 </P></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getLastError()">
<h3>getLastError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getLastError</span>()</div>
<div class="block"><P>
 Returns the error code for the last error in the transaction process.
 </P></div>
</section>
</li>
<li>
<section class="detail" id="getLastCoprError()">
<h3>getLastCoprError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getLastCoprError</span>()</div>
<div class="block"><P>
 Returns the error code for the last error in the transaction process.
 </P></div>
</section>
</li>
<li>
<section class="detail" id="setupTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)">
<h3>setupTransactionData</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setupTransactionData</span><wbr><span class="parameters">(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</span>
                                      throws <span class="exceptions"><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
<a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></span></div>
<div class="block"><P>
 Setups initial transaction data on SHAiButtonUser. This step creates the
 account data file, signs it with the coprocessor, and writes it to the
 iButton.
 </P></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifyUser(com.dalsemi.onewire.application.sha.SHAiButtonUser)">
<h3>verifyUser</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">verifyUser</span><wbr><span class="parameters">(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</span>
                            throws <span class="exceptions"><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
<a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></span></div>
<div class="block"><P>
 Verifies that SHAiButtonUser is a valid user of this service. This step
 writes a three byte challenge to the SHAiButtonUser before doing an
 authenticated read of the account data. The returned MAC is verified using
 the system authentication secret on the coprocessor. If the MAC matches that
 generated by the coprocessor, this function returns true.
 </P></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifyTransactionData(com.dalsemi.onewire.application.sha.SHAiButtonUser)">
<h3>verifyTransactionData</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">verifyTransactionData</span><wbr><span class="parameters">(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user)</span>
                                       throws <span class="exceptions"><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
<a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></span></div>
<div class="block"><P>
 Verifies account data is valid for this service. The user's account data is
 recreated on the coprocessor and signed using the system signing secret. If
 the recreated signature matches the signature in the account data, the
 account data is valid.
 </P></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeTransaction(com.dalsemi.onewire.application.sha.SHAiButtonUser,boolean)">
<h3>executeTransaction</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">executeTransaction</span><wbr><span class="parameters">(<a href="SHAiButtonUser.html" title="class in com.dalsemi.onewire.application.sha">SHAiButtonUser</a>&nbsp;user,
 boolean&nbsp;verifySuccess)</span>
                                    throws <span class="exceptions"><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a>,
<a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></span></div>
<div class="block"><P>
 Performs the transaction. For any given transaction type, this step would
 involve updating any necessary account data, signing the account data using
 the coprocessor's system signing secret, and writing the updated account data
 to the user iButton
 </P></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../OneWireException.html" title="class in com.dalsemi.onewire">OneWireException</a></code></dd>
<dd><code><a href="../../adapter/OneWireIOException.html" title="class in com.dalsemi.onewire.adapter">OneWireIOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setParameter(int,int)">
<h3>setParameter</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setParameter</span><wbr><span class="parameters">(int&nbsp;type,
 int&nbsp;param)</span></div>
<div class="block"><P>
 Sets a particular parameter for this transaction. Parameters are specified in
 the class documentation for the specific type of transaction that is being
 performed.
 </P></div>
</section>
</li>
<li>
<section class="detail" id="getParameter(int)">
<h3>getParameter</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getParameter</span><wbr><span class="parameters">(int&nbsp;type)</span></div>
<div class="block"><P>
 Retrieves the value of a particular parameter for this transaction.
 Parameters are specified in the class documentation for the specific type of
 transaction that is being performed.
 </P></div>
</section>
</li>
<li>
<section class="detail" id="resetParameters()">
<h3>resetParameters</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetParameters</span>()</div>
<div class="block"><P>
 Resets the value of all parameters for this transaction. Parameters are
 specified in the class documentation for the specific type of transaction
 that is being performed.
 </P></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
